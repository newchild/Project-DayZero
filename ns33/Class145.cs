using System;

namespace ns33
{
	// Token: 0x020001EE RID: 494
	internal sealed class Class145
	{
		// Token: 0x04000DA0 RID: 3488
		internal Class144 class144_0;

		// Token: 0x04000D97 RID: 3479
		internal static readonly int[] int_0 = new int[]
		{
			0,
			1,
			2,
			3,
			4,
			6,
			8,
			12,
			16,
			24,
			32,
			48,
			64,
			96,
			128,
			192,
			256,
			384,
			512,
			768,
			1024,
			1536,
			2048,
			3072,
			4096,
			6144,
			8192,
			12288,
			16384,
			24576
		};

		// Token: 0x04000D98 RID: 3480
		internal static readonly int[] int_1 = new int[]
		{
			0,
			1,
			2,
			3,
			4,
			5,
			6,
			7,
			8,
			10,
			12,
			14,
			16,
			20,
			24,
			28,
			32,
			40,
			48,
			56,
			64,
			80,
			96,
			112,
			128,
			160,
			192,
			224,
			0
		};

		// Token: 0x04000D9B RID: 3483
		internal static readonly int[] int_2 = new int[]
		{
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			2,
			3,
			7
		};

		// Token: 0x04000D9C RID: 3484
		internal static readonly int[] int_3 = new int[]
		{
			0,
			0,
			0,
			0,
			1,
			1,
			2,
			2,
			3,
			3,
			4,
			4,
			5,
			5,
			6,
			6,
			7,
			7,
			8,
			8,
			9,
			9,
			10,
			10,
			11,
			11,
			12,
			12,
			13,
			13
		};

		// Token: 0x04000D9D RID: 3485
		internal static readonly int[] int_4 = new int[]
		{
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			0,
			1,
			1,
			1,
			1,
			2,
			2,
			2,
			2,
			3,
			3,
			3,
			3,
			4,
			4,
			4,
			4,
			5,
			5,
			5,
			5,
			0
		};

		// Token: 0x04000D9E RID: 3486
		private static readonly int int_5 = 573;

		// Token: 0x04000D9F RID: 3487
		internal int int_6;

		// Token: 0x04000D95 RID: 3477
		internal static readonly sbyte[] sbyte_0 = new sbyte[]
		{
			0,
			1,
			2,
			3,
			4,
			4,
			5,
			5,
			6,
			6,
			6,
			6,
			7,
			7,
			7,
			7,
			8,
			8,
			8,
			8,
			8,
			8,
			8,
			8,
			9,
			9,
			9,
			9,
			9,
			9,
			9,
			9,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			10,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			11,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			12,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			13,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			14,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			15,
			0,
			0,
			16,
			17,
			18,
			18,
			19,
			19,
			20,
			20,
			20,
			20,
			21,
			21,
			21,
			21,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			28,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29,
			29
		};

		// Token: 0x04000D96 RID: 3478
		internal static readonly sbyte[] sbyte_1 = new sbyte[]
		{
			0,
			1,
			2,
			3,
			4,
			5,
			6,
			7,
			8,
			8,
			9,
			9,
			10,
			10,
			11,
			11,
			12,
			12,
			12,
			12,
			13,
			13,
			13,
			13,
			14,
			14,
			14,
			14,
			15,
			15,
			15,
			15,
			16,
			16,
			16,
			16,
			16,
			16,
			16,
			16,
			17,
			17,
			17,
			17,
			17,
			17,
			17,
			17,
			18,
			18,
			18,
			18,
			18,
			18,
			18,
			18,
			19,
			19,
			19,
			19,
			19,
			19,
			19,
			19,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			20,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			21,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			22,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			23,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			24,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			25,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			26,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			27,
			28
		};

		// Token: 0x04000D99 RID: 3481
		internal static readonly sbyte[] sbyte_2 = new sbyte[]
		{
			16,
			17,
			18,
			0,
			8,
			7,
			9,
			6,
			10,
			5,
			11,
			4,
			12,
			3,
			13,
			2,
			14,
			1,
			15
		};

		// Token: 0x04000D9A RID: 3482
		internal short[] short_0;

		// Token: 0x06001158 RID: 4440
		// RVA: 0x0005EB80 File Offset: 0x0005CD80
		internal void method_0(Class137 class137_0)
		{
			short[] array = this.short_0;
			short[] short_ = this.class144_0.short_2;
			int num = this.class144_0.int_0;
			int num2 = -1;
			class137_0.int_8 = 0;
			class137_0.int_9 = Class145.int_5;
			for (int i = 0; i < num; i++)
			{
				if (array[i * 2] != 0)
				{
					num2 = (class137_0.int_7[++class137_0.int_8] = i);
					class137_0.sbyte_1[i] = 0;
				}
				else
				{
					array[i * 2 + 1] = 0;
				}
			}
			int num3;
			while (class137_0.int_8 < 2)
			{
				num3 = (class137_0.int_7[++class137_0.int_8] = ((num2 < 2) ? (++num2) : 0));
				array[num3 * 2] = 1;
				class137_0.sbyte_1[num3] = 0;
				class137_0.int_24--;
				if (short_ != null)
				{
					class137_0.int_28 -= (int)short_[num3 * 2 + 1];
				}
			}
			this.int_6 = num2;
			for (int i = class137_0.int_8 / 2; i >= 1; i--)
			{
				class137_0.method_19(array, i);
			}
			num3 = num;
			do
			{
				int i = class137_0.int_7[1];
				class137_0.int_7[1] = class137_0.int_7[class137_0.int_8--];
				class137_0.method_19(array, 1);
				int num4 = class137_0.int_7[1];
				class137_0.int_7[--class137_0.int_9] = i;
				class137_0.int_7[--class137_0.int_9] = num4;
				array[num3 * 2] = array[i * 2] + array[num4 * 2];
				class137_0.sbyte_1[num3] = (sbyte)(Math.Max((byte)class137_0.sbyte_1[i], (byte)class137_0.sbyte_1[num4]) + 1);
				array[i * 2 + 1] = (array[num4 * 2 + 1] = (short)num3);
				class137_0.int_7[1] = num3++;
				class137_0.method_19(array, 1);
			}
			while (class137_0.int_8 >= 2);
			class137_0.int_7[--class137_0.int_9] = class137_0.int_7[1];
			this.method_1(class137_0);
			Class145.smethod_2(array, num2, class137_0.short_1);
		}

		// Token: 0x0600115A RID: 4442
		// RVA: 0x0005EDB4 File Offset: 0x0005CFB4
		internal void method_1(Class137 class137_0)
		{
			short[] array = this.short_0;
			short[] short_ = this.class144_0.short_2;
			int[] array2 = this.class144_0.int_2;
			int num = this.class144_0.int_1;
			int num2 = this.class144_0.int_4;
			int num3 = 0;
			for (int i = 0; i <= 15; i++)
			{
				class137_0.short_1[i] = 0;
			}
			array[class137_0.int_7[class137_0.int_9] * 2 + 1] = 0;
			int j;
			for (j = class137_0.int_9 + 1; j < Class145.int_5; j++)
			{
				int num4 = class137_0.int_7[j];
				int i = (int)(array[(int)(array[num4 * 2 + 1] * 2 + 1)] + 1);
				if (i > num2)
				{
					i = num2;
					num3++;
				}
				array[num4 * 2 + 1] = (short)i;
				if (num4 <= this.int_6)
				{
					class137_0.short_1[i] = class137_0.short_1[i] + 1;
					int num5 = 0;
					if (num4 >= num)
					{
						num5 = array2[num4 - num];
					}
					short num6 = array[num4 * 2];
					class137_0.int_24 += (int)num6 * (i + num5);
					if (short_ != null)
					{
						class137_0.int_28 += (int)num6 * ((int)short_[num4 * 2 + 1] + num5);
					}
				}
			}
			if (num3 != 0)
			{
				do
				{
					int i = num2 - 1;
					while (class137_0.short_1[i] == 0)
					{
						i--;
					}
					class137_0.short_1[i] = class137_0.short_1[i] - 1;
					class137_0.short_1[i + 1] = class137_0.short_1[i + 1] + 2;
					class137_0.short_1[num2] = class137_0.short_1[num2] - 1;
					num3 -= 2;
				}
				while (num3 > 0);
				for (int i = num2; i != 0; i--)
				{
					int num4 = (int)class137_0.short_1[i];
					while (num4 != 0)
					{
						int num7 = class137_0.int_7[--j];
						if (num7 <= this.int_6)
						{
							if ((int)array[num7 * 2 + 1] != i)
							{
								class137_0.int_24 += (i - (int)array[num7 * 2 + 1]) * (int)array[num7 * 2];
								array[num7 * 2 + 1] = (short)i;
							}
							num4--;
						}
					}
				}
			}
		}

		// Token: 0x06001157 RID: 4439
		// RVA: 0x0005EB4C File Offset: 0x0005CD4C
		internal static int smethod_0(int int_7, int int_8)
		{
			int num = 0;
			do
			{
				num |= (int_7 & 1);
				int_7 = Class143.smethod_0(int_7, 1);
				num <<= 1;
			}
			while (--int_8 > 0);
			return Class143.smethod_0(num, 1);
		}

		// Token: 0x06001159 RID: 4441
		// RVA: 0x00010921 File Offset: 0x0000EB21
		internal static int smethod_1(int int_7)
		{
			if (int_7 >= 256)
			{
				return (int)Class145.sbyte_0[256 + Class143.smethod_0(int_7, 7)];
			}
			return (int)Class145.sbyte_0[int_7];
		}

		// Token: 0x0600115B RID: 4443
		// RVA: 0x0005EFCC File Offset: 0x0005D1CC
		internal static void smethod_2(short[] short_1, int int_7, short[] short_2)
		{
			short[] array = new short[16];
			short num = 0;
			for (int i = 1; i <= 15; i++)
			{
				num = (array[i] = (short)(num + short_2[i - 1] << 1));
			}
			for (int j = 0; j <= int_7; j++)
			{
				int num2 = (int)short_1[j * 2 + 1];
				if (num2 != 0)
				{
					short int_8;
					array[num2] = (int_8 = array[num2]) + 1;
					short_1[j * 2] = (short)Class145.smethod_0((int)int_8, num2);
				}
			}
		}
	}
}
